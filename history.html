<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Murinsk (Муринск) — город в Minecraft | visitmurinsk.ru</title>

<meta name="description" content="Murinsk (Муринск) — город в Minecraft. Официальный сайт проекта: история, карта города, галерея и развитие. visitmurinsk.ru">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://visitmurinsk.ru">
<link rel="icon" type="image/png" href="/favicon.png">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
:root{
--bg:#f5f5f7;
--text:#1d1d1f;
--sub:#6e6e73;
--glass:rgba(255,255,255,.7);
--glass-pill:rgba(255,255,255,.34);
--glass-pill-border:rgba(255,255,255,.62);
--glass-pill-highlight:rgba(255,255,255,.72);
--control-bg:rgba(255,255,255,.32);
--control-border:rgba(255,255,255,.58);
--control-highlight:rgba(255,255,255,.72);
--menu:rgba(255,255,255,.34);
--menu-border:rgba(255,255,255,.62);
--menu-highlight:rgba(255,255,255,.72);
--shadow:rgba(0,0,0,.12);
}
body.dark{
--bg:#0d0d0f;
--text:#f5f5f7;
--sub:#a1a1a6;
--glass:rgba(30,30,32,.75);
--glass-pill:rgba(30,30,34,.34);
--glass-pill-border:rgba(255,255,255,.2);
--glass-pill-highlight:rgba(255,255,255,.3);
--control-bg:rgba(26,26,30,.42);
--control-border:rgba(255,255,255,.18);
--control-highlight:rgba(255,255,255,.34);
--menu:rgba(30,30,34,.34);
--menu-border:rgba(255,255,255,.2);
--menu-highlight:rgba(255,255,255,.3);
--shadow:rgba(0,0,0,.45);
}
*{margin:0;padding:0;box-sizing:border-box}
body{
font-family:'Press Start 2P', monospace;
background:var(--bg);
color:var(--text);
transition:.3s;
}

header{
position:fixed;
top:0;left:0;right:0;
z-index:1000
}

.header-inner{
max-width:1200px;
margin:14px auto;
padding:14px 26px;
display:flex;
justify-content:space-between;
align-items:center;
background:linear-gradient(160deg,color-mix(in srgb,var(--glass-pill) 88%,white 12%),color-mix(in srgb,var(--glass-pill) 94%,transparent));
border:1px solid var(--glass-pill-border);
backdrop-filter:blur(22px) saturate(165%);
-webkit-backdrop-filter:blur(22px) saturate(165%);
border-radius:999px;
box-shadow:0 14px 36px var(--shadow), inset 0 1px 0 var(--glass-pill-highlight);
position:relative;
overflow:hidden;
overflow:visible;
}

.header-inner::before{
content:"";
position:absolute;
inset:0;
background:linear-gradient(120deg,transparent 18%,color-mix(in srgb,var(--glass-pill-highlight) 85%,transparent) 48%,transparent 82%);
opacity:.55;
pointer-events:none;
mix-blend-mode:screen;
}

@media (max-width:768px){
.header-inner{
margin:14px 14px;
padding:14px 18px;
}
}

.logo{
font-family:'Unbounded',sans-serif;
font-weight:700;
font-size:18px;
position:relative;
z-index:2;
pointer-events:auto
}

.controls{display:flex;gap:10px}

button{
border:1px solid color-mix(in srgb,var(--control-border) 70%,transparent);
background:color-mix(in srgb,var(--control-bg) 82%,transparent);
color:var(--text);
cursor:pointer;
box-shadow:0 10px 24px var(--shadow);
backdrop-filter:blur(14px) saturate(135%);
-webkit-backdrop-filter:blur(14px) saturate(135%);
display:flex;
align-items:center;
justify-content:center;
position:relative;
overflow:hidden;
transition:transform .22s ease, box-shadow .25s ease, background-color .25s ease, border-color .25s ease;
}

button:hover{
transform:translateY(-1px);
background:color-mix(in srgb,var(--control-bg) 92%,transparent);
border-color:color-mix(in srgb,var(--control-border) 88%,transparent);
box-shadow:0 12px 28px var(--shadow);
}

button:active{
transform:translateY(0) scale(.97);
}

#langBtn{
font-family:'Unbounded',sans-serif;
width:44px;height:36px;
border-radius:999px;
font-size:12px;
transition:transform .2s;
}
#langBtn:active{transform:translateY(0) scale(.94)}

#themeBtn{
width:36px;height:36px;
border-radius:50%;
position:relative;
overflow:hidden;
}

#themeBtn svg{
position:absolute;
width:20px;
height:20px;
fill:currentColor;
transition: transform .5s cubic-bezier(.4,0,.2,1), opacity .3s;
}

#sun{opacity:1; transform: translateX(0) rotate(0deg);}
#moon{opacity:0; transform: translateX(15px) rotate(90deg);}

body.dark #sun{opacity:0; transform: translateX(15px) rotate(90deg);}
body.dark #moon{opacity:1; transform: translateX(0) rotate(0deg);}


#menuBtn{
width:36px;height:36px;
border-radius:50%;
position:relative;
flex-shrink:0
}
#menuBtn span{
position:absolute;
left:50%;top:50%;
width:18px;height:2px;
background:var(--text);
transition:.25s
}
#menuBtn span:first-child{transform:translate(-50%,-50%) translateY(-4px)}
#menuBtn span:last-child{transform:translate(-50%,-50%) translateY(4px)}
#menuBtn.open span:first-child{transform:translate(-50%,-50%) rotate(45deg)}
#menuBtn.open span:last-child{transform:translate(-50%,-50%) rotate(-45deg)}

nav{
position:absolute;
top:100%;
left:50%;
transform:translateX(-50%) translateY(-10px) scale(.96);
background:linear-gradient(160deg,color-mix(in srgb,var(--menu) 88%,white 12%),color-mix(in srgb,var(--menu) 94%,transparent));
border:1px solid var(--menu-border);
padding:28px 48px;
border-radius:32px;
box-shadow:0 20px 45px var(--shadow), inset 0 1px 0 var(--menu-highlight);
backdrop-filter:blur(22px) saturate(165%);
-webkit-backdrop-filter:blur(22px) saturate(165%);
display:flex;
flex-direction:column;
gap:20px;
text-align:center;
opacity:0;
pointer-events:none;
transition:opacity .28s ease, transform .38s cubic-bezier(.22,.61,.36,1);
min-width:clamp(260px,70vw,420px);
overflow:hidden;
}
nav::before{
content:"";
position:absolute;
inset:0;
background:linear-gradient(120deg,transparent 15%,color-mix(in srgb,var(--menu-highlight) 85%,transparent) 50%,transparent 85%);
opacity:.55;
pointer-events:none;
mix-blend-mode:screen;
}

nav.show{
opacity:1;
pointer-events:auto;
transform:translateX(-50%) translateY(10px) scale(1)
}

nav a{
color:var(--text);
text-decoration:none;
font-size:12px;
opacity:0;
transform:translateY(-12px);
transition: opacity .35s ease, transform .45s cubic-bezier(.4,0,.2,1);
}
nav a.active{
text-decoration:underline;
text-decoration-thickness:2px;
text-underline-offset:6px;
text-shadow:0 0 12px color-mix(in srgb,var(--text) 45%,transparent);
}
nav.show a{
opacity:1;
transform:translateY(0);
}
nav.show a:nth-child(1){transition-delay:.05s}
nav.show a:nth-child(2){transition-delay:.1s}
nav.show a:nth-child(3){transition-delay:.15s}
nav.show a:nth-child(4){transition-delay:.2s}

main{padding-top:140px}
section{
max-width:960px;
margin:80px auto;
padding:0 20px
}
h1{
font-family:'Unbounded',sans-serif;
font-size:22px;
margin-bottom:28px
}
p{
font-size:10px;
line-height:1.9;
color:var(--sub);
margin-bottom:18px
}
footer{
text-align:center;
padding:40px;
font-size:10px;
color:var(--sub)
}
</style>
</head>

<body>

<!-- ИЗМЕНЕНИЕ 1: Заменяем весь старый HTML-код меню на этот DIV -->
<header id="menu-container"></header>

<main>
<section>
<h1>Murinsk (Муринск) — город в Minecraft</h1>
<p data-ru>Murinsk — это город в Minecraft.</p>
<p data-en>Murinsk is a city in Minecraft.</p>
</section>
</main>

<footer>© Murinsk · visitmurinsk.ru</footer>

<!-- ИЗМЕНЕНИЕ 2 Добавляем новый скрипт внизу и оборачиваем старый в функцию -->
<script>
// НОВЫЙ код: Загружает menu.html и запускает функции после загрузки
fetch('menu.html')
    .then(response => response.text())
    .then(html => {
        document.getElementById('menu-container').innerHTML = html;
        initializeMenuFunctions(); // Запускаем ваши скрипты
    });


// ВАШ СТАРЫЙ СКРИПТ (теперь внутри функции)
function initializeMenuFunctions() {
    const menuBtn=document.getElementById('menuBtn');
    const menu=document.getElementById('menu');
    const themeBtn=document.getElementById('themeBtn');
    const langBtn=document.getElementById('langBtn');

    function normalizePath(path){
    if(!path){
    return '/';
    }
    let cleanPath=path
.replace(/\/index\.html$/,'/')
.replace(/\.html$/,'');
    if(cleanPath===''){
    return '/';
    }
    return cleanPath.endsWith('/')&&cleanPath!=='/'?cleanPath.slice(0,-1):cleanPath;
    }

    function highlightActiveMenuItem(){
    const currentPath=normalizePath(window.location.pathname);
    document.querySelectorAll('#menu a').forEach(link=>{
    const linkPath=normalizePath(new URL(link.getAttribute('href'),window.location.origin).pathname);
    link.classList.toggle('active',linkPath===currentPath);
    });
    }

    menuBtn.onclick=()=>{
    menuBtn.classList.toggle('open');
    menu.classList.toggle('show');
    };

    highlightActiveMenuItem();

    const savedTheme=sessionStorage.getItem('theme');
    if(savedTheme==='dark'){
    document.body.classList.add('dark');
    }else if(savedTheme==='light'){
    document.body.classList.remove('dark');
    }else if(matchMedia('(prefers-color-scheme: dark)').matches){
    document.body.classList.add('dark');
    }

    themeBtn.onclick=()=>{
    const isDark=document.body.classList.toggle('dark');
    sessionStorage.setItem('theme',isDark?'dark':'light');
    };

    let lang='ru';
    function updateLang(){
    langBtn.textContent=lang.toUpperCase();
    document.querySelectorAll('[data-ru]').forEach(e=>e.style.display=lang==='ru'?'block':'none');
    document.querySelectorAll('[data-en]').forEach(e=>e.style.display=lang==='en'?'block':'none');
    }
    langBtn.onclick=()=>{
    lang=lang==='ru'?'en':'ru';
    langBtn.animate(
    [{transform:'scale(1)'},{transform:'scale(1.15)'},{transform:'scale(1)'}],
    {duration:200}
    );
    updateLang();
    };
    updateLang();
}
</script>

</body>
</html>
